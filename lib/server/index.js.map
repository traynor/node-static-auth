{"version":3,"sources":["server/index.js"],"names":["NodeStatic","inputConfig","cb","config","Object","assign","logger","sslOpts","server","ssl","enabled","key","readFileSync","resolve","cert","err","console","error","customPages","http2","log","fileServer","Server","nodeStatic","root","supportsHttp2","isHttp2Supported","createServer","require","createSecureServer","listener","bind","https","listen","port","request","response","next","test","protocol","url","headers","host","redirect","httpListener","hostHeader","connection","encrypted","auth","credentials","name","pass","sendCustom","forbidden","sendForbidden","realm","serve","result","status","notFound","addListener","message","sendNotFound","sendError","resume"],"mappings":"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","file":"index.js","sourceRoot":"../../src"}