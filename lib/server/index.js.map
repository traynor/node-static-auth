{"version":3,"sources":["server/index.js"],"names":["NodeStatic","inputConfig","cb","config","Object","assign","logger","sslOpts","server","ssl","enabled","key","readFileSync","resolve","cert","err","console","error","fileServer","Server","nodeStatic","root","supportsHttp2","isHttp2Supported","http2","createServer","require","createSecureServer","listener","bind","https","listen","port","log","request","response","next","test","protocol","url","headers","host","redirect","httpListener","hostHeader","connection","encrypted","auth","credentials","name","pass","sendForbidden","realm","addListener","serve","result","status","message","sendNotFound","sendError","resume"],"mappings":"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","file":"index.js","sourceRoot":"../../src"}