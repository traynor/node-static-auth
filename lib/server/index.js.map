{"version":3,"sources":["server/index.js"],"names":["fs","require","auth","path","http","log","server","NodeStatic","config","cb","logger","sslOpts","ssl","enabled","key","readFileSync","resolve","cert","err","console","error","module","parent","filename","join","dirname","process","cwd","fileServer","Server","nodeStatic","root","listener","request","response","host","connection","encrypted","headers","credentials","name","password","head","realm","writeHead","end","addListener","serve","result","status","url","message","resume","http2","parseInt","versions","node","split","createServer","createSecureServer","https","listesn","port","req","res","test","protocol","listen","httpListener"],"mappings":"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","file":"index.js","sourceRoot":"../../src"}